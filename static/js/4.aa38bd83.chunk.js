(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{261:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n(94);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],s=!0,i=!1,o=void 0;try{for(var c,r=t[Symbol.iterator]();!(s=(c=r.next()).done)&&(n.push(c.value),!e||n.length!==e);s=!0);}catch(a){i=!0,o=a}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return n}}(t,e)||Object(s.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},262:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n(3),i=n(2),o=(n(0),n(20)),c=n(11),r=function(t){return Object(o.b)((function(t){return{isAuth:t.auth.isAuth}}))((function(e){return e.isAuth?Object(i.jsx)(t,Object(s.a)({},e)):Object(i.jsx)(c.a,{to:"/login"})}))}},263:function(t,e,n){"use strict";e.a=n.p+"static/media/photo.a00ce18b.png"},269:function(t,e,n){t.exports={item:"Post_item__2Y4b9"}},270:function(t,e,n){t.exports={mainPhoto:"ProfileInfo_mainPhoto__3nwd2",profileData:"ProfileInfo_profileData__1GsyA",contactsItem:"ProfileInfo_contactsItem__1GfQ_"}},272:function(t,e,n){"use strict";n.r(e);var s=n(3),i=n(50),o=n(51),c=n(61),r=n(60),a=n(2),u=n(0),j=n.n(u),b=n(93),l=n(85),d=n(118),p=n(32),f=n(63),h=n(269),O=n.n(h),m=function(t){return Object(a.jsxs)("div",{className:O.a.item,children:[Object(a.jsx)("img",{src:"https://e7.pngegg.com/pngimages/931/209/png-clipart-computer-icons-symbol-avatar-logo-person-with-helmut-miscellaneous-black.png"}),t.message,Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["Like: ",t.likeCount]})})]})},x=Object(f.a)(100),v=function(t){return Object(a.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(a.jsx)(l.a,{component:p.b,placeholder:"Add new Post",name:"newPost",validate:[f.b,x]}),Object(a.jsx)("button",{children:"Add post"})]})};v=Object(d.a)({form:"newPostForm"})(v);var g=j.a.memo((function(t){var e=t.postsData.map((function(t){return Object(a.jsx)(m,{message:t.message,likeCount:t.likeCount},t.id)}));return Object(a.jsxs)("div",{children:["My Post",Object(a.jsx)(v,{onSubmit:function(e){t.addPost(e.newPost)}}),Object(a.jsx)("div",{children:e})]})})),P=n(20),k=Object(P.b)((function(t){return{postsData:t.profilePage.postsData}}),(function(t){return{addPost:function(e){t(Object(b.a)(e))}}}))(g),y=n(261),S=n(270),w=n.n(S),A=n(95),I=j.a.memo((function(t){var e=Object(u.useState)(!1),n=Object(y.a)(e,2),s=n[0],i=n[1],o=Object(u.useState)(t.status),c=Object(y.a)(o,2),r=c[0],j=c[1];Object(u.useEffect)((function(){j(t.status)}),[t.status]);return Object(a.jsxs)(a.Fragment,{children:[!s&&Object(a.jsx)("div",{children:Object(a.jsx)("span",{onClick:function(){i(!0)},children:t.status})}),s&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),t.updateStatus(r)},onChange:function(t){j(t.target.value)},value:r})})]})})),_=n(263),N=Object(d.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,n=t.profile,s=t.error;return Object(a.jsxs)("form",{onSubmit:e,children:[Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Save"})}),s&&Object(a.jsx)("div",{children:s.map((function(t){return Object(a.jsx)("div",{children:t})}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full Name: "}),Object(p.c)("input",p.a,"fullName","Full Name",[])]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job: "}),Object(p.c)("checkbox",p.a,"lookingForAJob","",[])]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job description: "}),Object(p.c)("input",p.a,"lookingForAJobDescription","Looking for a job description",[])]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About Me: "}),Object(p.c)("textarea",p.b,"aboutMe","About me",[])]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts: "})," ",Object.keys(n.contacts).map((function(t){return Object(a.jsx)("div",{children:Object(a.jsxs)("b",{children:[t,": ",Object(p.c)("input",p.a,"contacts."+t,t,[])]})},t)}))]})]})})),C=function(t){var e=t.profile,n=t.isOwner,s=t.activateMode;return Object(a.jsxs)("div",{className:w.a.profileData,children:[n&&Object(a.jsx)("button",{onClick:s,children:"Edit"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Full Name:"})," ",e.fullName]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Looking for a job:"})," ",e.lookingForAJob?"Yes":"No"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Looking for a job description:"})," ",e.lookingForAJobDescription]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"About Me:"})," ",e.aboutMe]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"Contacts: "}),Object.keys(e.contacts).map((function(t){return Object(a.jsxs)("div",{className:w.a.contactsItem,children:[Object(a.jsx)("b",{children:t}),":",e.contacts[t]]},t)}))]})]})},D=function(t){var e=t.profile,n=t.status,s=t.updateStatus,i=t.isOwner,o=t.savePhoto,c=t.saveProfile,r=Object(u.useState)(!1),j=Object(y.a)(r,2),b=j[0],l=j[1];if(!e)return Object(a.jsx)(A.a,{});return Object(a.jsxs)("div",{className:w.a.profileInfo,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{className:w.a.mainPhoto,src:e.photos.large||_.a}),i&&Object(a.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}})]}),Object(a.jsx)(I,{status:n,updateStatus:s}),b?Object(a.jsx)(N,{initialValues:e,profile:e,onSubmit:function(t){c(t).then((function(){l(!1)}))}}):Object(a.jsx)(C,{isOwner:i,profile:e,activateMode:function(){return l(!0)}})]})},F=function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(D,{isOwner:t.isOwner,savePhoto:t.savePhoto,profile:t.profile,status:t.status,updateStatus:t.updateStatus,saveProfile:t.saveProfile}),Object(a.jsx)(k,{})]})},M=n(11),J=n(262),L=n(10),U=n(70),E=function(t){Object(c.a)(n,t);var e=Object(r.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"refreshPropfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshPropfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!==t.match.params.userId&&this.refreshPropfile()}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(F,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))})}}]),n}(j.a.Component);e.default=Object(L.d)(J.a,Object(P.b)((function(t){return{profile:Object(U.h)(t),status:Object(U.i)(t),authorizedId:Object(U.a)(t)}}),{getUserProfile:b.c,getUserStatus:b.d,updateStatus:b.g,savePhoto:b.e,saveProfile:b.f}),M.f)(E)}}]);
//# sourceMappingURL=4.aa38bd83.chunk.js.map